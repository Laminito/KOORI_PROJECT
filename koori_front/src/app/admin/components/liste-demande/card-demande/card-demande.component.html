<div class="col-sm-4 col-lg-12 mt-2 mb-2">
    <div class="m-0 row container-fluid p-3" style="background: white;">
      <div class="col-sm-2 col-lg-2 m-auto text-center">
        {{ user.nomComplet }}
      </div>
      <div class="col-sm-2 col-lg-2 m-auto text-center">
        {{ user.email }}
      </div>
      <div class="col-sm-2 col-lg-2 m-auto text-center">
        {{ demande.titre }}
      </div>
      <div class="col-sm-2 col-lg-2 m-auto text-center">
        {{ demande.date_debut_souhaitee | date: "dd - MM - yyyy" }}
      </div>
      <div class="col-sm-2 col-lg-2 m-auto text-center"  *ngIf="!isClicked">
        <i class="fa fa-circle circle{{demande.id}}" [style.color]="colors[statuts.indexOf(demande.statut)]"></i>
        <span class="span{{demande.id}}" style="margin-left: 3%">{{demande.statut}}</span>
      </div>
      <div class="col-sm-2 col-lg-2 m-auto  text-center"  *ngIf="!isClicked && !isValidated && isFinished == 'false'">
        <button class="btn btn-sm " (click)="onUpdateDemandeState(demande)" (click)="showModal(template)">
        <i class="fas fa-pencil-alt"  style="color: var(--orange)"></i>
        </button>
      </div>
</div>


<ng-template #template>
  <div class="modal-header">
    <h4 class="modal-title pull-left mt-2 fs-4">Modifications</h4>
    <i class="fa-solid fa-circle-xmark fs-4" (click)="onCancel()"></i>
  </div>
  <div class="modal-body">
    

    <form id="contact-form" [formGroup]="demandeForm">
      <div class="row"> 
              
              <div class="col-lg-12 col-md-12">
                  <div class="form-group mx-3 fs-5 mt-3">
                      <label>Status de la demande</label>
                      <select name="status" id="service" formControlName="status" class="form-group col-lg-12 col-md-12 fs-4">
                          <option *ngFor="let item of etatsDemande; let i = index" value="{{ item }}"> {{item}} </option>
                      </select>
                  </div>
              </div>
          
              <div class="col-lg-12 col-md-12">
                  <div class="form-group mx-3 fs-5 mt-3">
                      <label>Sujet</label>
                      <textarea class="form-control mt-2 fs-5" formControlName="titre" name="titre"  required></textarea>
                  </div>
              </div>      

              <div class="col-lg-12 col-md-12">
                <div class="form-group d-flex justify-content-center fs-5 mt-3">
                    <button type="button" class="btn btn-lg envoyer" (click)="onSubmit()">Enregistrer</button>
                </div>
            </div>
      </div>
    </form>
  </div>
</ng-template>
